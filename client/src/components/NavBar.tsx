import { NavLink, useMatch } from "react-router";
import "../styles/NavBar.css";
import { useMediaQuery } from "react-responsive";
import { useAuth } from "../context/AuthContext";

function NavBar() {
  const isMobile = useMediaQuery({ query: "(max-width: 1023px)" });
  const match = useMatch("/my-activities");
  const match2 = useMatch("/publication");
  const { auth } = useAuth();

  return (
    <>
      <nav className="navbar">
        <div className="top-navbar">
          <div className="hello">
            <NavLink to="/">
              <img src="/logo.png" alt="logo teamup" />
            </NavLink>
            <p>Bonjour</p>
            {auth && <p>{auth.user.username}</p>}
          </div>
          <NavLink
            className={({ isActive }) =>
              isActive ? "navbar-link link-active" : "navbar-link"
            }
            to="/"
          >
            <svg viewBox="0 0 24 24">
              <title>icon home</title>
              <path d="M21.4498 10.275L11.9998 3.1875L2.5498 10.275L2.9998 11.625H3.7498V20.25H20.2498V11.625H20.9998L21.4498 10.275ZM5.2498 18.75V10.125L11.9998 5.0625L18.7498 10.125V18.75H14.9999V14.3333L14.2499 13.5833H9.74988L8.99988 14.3333V18.75H5.2498ZM10.4999 18.75H13.4999V15.0833H10.4999V18.75Z" />
            </svg>
            Accueil
          </NavLink>
          <NavLink
            className={({ isActive }) =>
              isActive ? "navbar-link link-active" : "navbar-link"
            }
            to="/activities/page/1"
          >
            <svg viewBox="0 0 109 106">
              <title>icon search</title>
              <path d="M72.2255 81.5987C64.5518 87.2787 88.4134 62.8779 81.6233 72.1533C81.7932 72.1398 81.4783 72.6541 80.4225 73.9432C80.4225 73.9432 98.5566 91.9549 107.458 101.122C110.549 104.463 104.973 111.133 101.185 107.651C93.1236 99.8302 74.0493 80.3934 74.0198 80.3617L72.2255 81.5987Z" />
              <path d="M45.5796 90.7066C57.2475 90.5933 68.7977 85.7607 77.1035 77.5523C86.968 67.8034 92.0475 53.3804 90.2758 39.6099C87.2399 16.0134 67.8416 0 45.2896 0C28.1546 0 11.5023 10.7187 4.19792 26.2609C-1.39364 38.1599 -1.40497 52.5262 4.19792 64.4457C11.4502 79.8791 27.8307 90.5412 44.9973 90.7066C45.1921 90.7066 45.387 90.7066 45.5796 90.7066ZM45.0449 83.1462C27.62 82.9785 11.3618 69.5026 8.12878 52.2249C5.84956 40.0449 10.152 26.8635 19.1148 18.2134C29.5774 8.11094 46.0236 4.72836 59.6989 10.4536C71.9333 15.5762 81.091 27.4707 82.7789 40.5751C84.2243 51.808 80.1938 63.5802 72.2731 71.6889C65.3245 78.803 55.58 83.0488 45.532 83.1462C45.3689 83.1462 45.208 83.1462 45.0449 83.1462Z" />
            </svg>
            Explorer
          </NavLink>
        </div>
        <div className="middle-navbar">
          <NavLink
            className={
              match2
                ? "navbar-link link-publication link-publication-active"
                : "navbar-link link-publication"
            }
            to={auth ? "/publication" : "/sign-in"}
          >
            <svg viewBox="0 0 28 28">
              <title>icon add</title>
              <g>
                <path d="M14 0C6.26817 0 0 6.26817 0 14C0 21.7318 6.26817 28 14 28C21.7318 28 28 21.7318 28 14C28 6.26817 21.7318 0 14 0ZM14 25.6666C7.55683 25.6666 2.33335 20.4432 2.33335 14C2.33335 7.55683 7.55683 2.33335 14 2.33335C20.4432 2.33335 25.6666 7.55683 25.6666 14C25.6666 20.4432 20.4432 25.6666 14 25.6666Z" />
                <path d="M20.9998 12.8333H15.1667V6.99999C15.1667 6.35566 14.6443 5.83334 14 5.83334C13.3557 5.83334 12.8334 6.35566 12.8334 6.99999V12.8333H7.0021C6.35777 12.8333 5.83545 13.3557 5.83545 14C5.83545 14.6443 6.35777 15.1666 7.0021 15.1666H12.8333V21C12.8333 21.6443 13.3556 22.1666 14 22.1666C14.6443 22.1666 15.1666 21.6443 15.1666 21V15.1666H20.9997C21.644 15.1666 22.1663 14.6443 22.1663 14C22.1663 13.3557 21.6441 12.8333 20.9998 12.8333Z" />
              </g>
            </svg>
          </NavLink>
        </div>
        <div className="bottom-navbar">
          {!isMobile && auth && (
            <NavLink className="navbar-link icon-chat" to="/messenger">
              <svg viewBox="0 0 100 100" className="icon-chat">
                <title>icon chat</title>
                <path d="M12.5 6.25C10.8424 6.25 9.25269 6.90848 8.08058 8.08058C6.90848 9.25268 6.25 10.8424 6.25 12.5V62.5C6.25 64.1576 6.90848 65.7473 8.08058 66.9194C9.25269 68.0915 10.8424 68.75 12.5 68.75H72.4125C75.7274 68.7507 78.9063 70.0681 81.25 72.4125L93.75 84.9125V12.5C93.75 10.8424 93.0915 9.25268 91.9194 8.08058C90.7473 6.90848 89.1576 6.25 87.5 6.25H12.5ZM87.5 0C90.8152 0 93.9946 1.31696 96.3388 3.66117C98.683 6.00537 100 9.18479 100 12.5V92.4563C99.9999 93.0746 99.8163 93.679 99.4725 94.193C99.1287 94.7069 98.6402 95.1074 98.0688 95.3436C97.4973 95.5798 96.8686 95.6412 96.2623 95.5199C95.6559 95.3987 95.0992 95.1003 94.6625 94.6625L76.8312 76.8313C75.6594 75.6591 74.07 75.0004 72.4125 75H12.5C9.18479 75 6.00537 73.683 3.66117 71.3388C1.31696 68.9946 0 65.8152 0 62.5V12.5C0 9.18479 1.31696 6.00537 3.66117 3.66117C6.00537 1.31696 9.18479 0 12.5 0L87.5 0Z" />
                <path d="M68.75 37.5C68.75 39.1576 69.4085 40.7473 70.5806 41.9194C71.7527 43.0915 73.3424 43.75 75 43.75C76.6576 43.75 78.2473 43.0915 79.4194 41.9194C80.5915 40.7473 81.25 39.1576 81.25 37.5C81.25 35.8424 80.5915 34.2527 79.4194 33.0806C78.2473 31.9085 76.6576 31.25 75 31.25C73.3424 31.25 71.7527 31.9085 70.5806 33.0806C69.4085 34.2527 68.75 35.8424 68.75 37.5ZM43.75 37.5C43.75 39.1576 44.4085 40.7473 45.5806 41.9194C46.7527 43.0915 48.3424 43.75 50 43.75C51.6576 43.75 53.2473 43.0915 54.4194 41.9194C55.5915 40.7473 56.25 39.1576 56.25 37.5C56.25 35.8424 55.5915 34.2527 54.4194 33.0806C53.2473 31.9085 51.6576 31.25 50 31.25C48.3424 31.25 46.7527 31.9085 45.5806 33.0806C44.4085 34.2527 43.75 35.8424 43.75 37.5ZM18.75 37.5C18.75 39.1576 19.4085 40.7473 20.5806 41.9194C21.7527 43.0915 23.3424 43.75 25 43.75C26.6576 43.75 28.2473 43.0915 29.4194 41.9194C30.5915 40.7473 31.25 39.1576 31.25 37.5C31.25 35.8424 30.5915 34.2527 29.4194 33.0806C28.2473 31.9085 26.6576 31.25 25 31.25C23.3424 31.25 21.7527 31.9085 20.5806 33.0806C19.4085 34.2527 18.75 35.8424 18.75 37.5Z" />
              </svg>
              Chat
            </NavLink>
          )}
          <NavLink
            className={match ? "navbar-link link-active" : "navbar-link"}
            to={auth ? "/my-activities" : "/sign-in"}
          >
            <svg viewBox="0 0 27 27" className="icon-activities">
              <title>icon calendar</title>
              <path d="M20.7427 5.57324H18.5625C18.5625 5.18399 18.5625 4.79586 18.5625 4.40774C18.5625 4.26824 18.5625 4.12874 18.5625 3.98924C18.5625 3.69449 18.3037 3.41324 18 3.42674C17.6951 3.44024 17.4375 3.67424 17.4375 3.98924C17.4375 4.51686 17.4375 5.04561 17.4375 5.57324H9.56245C9.56245 5.18399 9.56245 4.79586 9.56245 4.40774C9.56245 4.26824 9.56245 4.12874 9.56245 3.98924C9.56245 3.69449 9.3037 3.41324 8.99995 3.42674C8.69508 3.44024 8.43745 3.67424 8.43745 3.98924C8.43745 4.51686 8.43745 5.04561 8.43745 5.57324H6.2572C4.70695 5.57324 3.4447 6.83549 3.4447 8.38574V20.7607C3.4447 22.3121 4.70695 23.5732 6.2572 23.5732H20.7416C22.293 23.5732 23.5541 22.3121 23.5541 20.7607V8.38574C23.5552 6.83549 22.293 5.57324 20.7427 5.57324ZM6.2572 6.69824H8.43745C8.43745 6.78036 8.43745 6.86361 8.43745 6.94574C8.43745 7.08524 8.43745 7.22474 8.43745 7.36424C8.43745 7.65899 8.6962 7.94024 8.99995 7.92674C9.30483 7.91324 9.56245 7.67924 9.56245 7.36424C9.56245 7.14261 9.56245 6.92099 9.56245 6.69824H17.4375C17.4375 6.78036 17.4375 6.86361 17.4375 6.94574C17.4375 7.08524 17.4375 7.22474 17.4375 7.36424C17.4375 7.65899 17.6962 7.94024 18 7.92674C18.3048 7.91324 18.5625 7.67924 18.5625 7.36424C18.5625 7.14261 18.5625 6.92099 18.5625 6.69824H20.7416C21.672 6.69824 22.4291 7.45536 22.4291 8.38574V10.1677H4.5697V8.38574C4.5697 7.45536 5.32683 6.69824 6.2572 6.69824ZM20.7427 22.4482H6.2572C5.32683 22.4482 4.5697 21.6911 4.5697 20.7607V11.2927H22.4291V20.7607C22.4302 21.6911 21.6731 22.4482 20.7427 22.4482Z" />
            </svg>
            Mes activit√©s
          </NavLink>
          <NavLink
            className={({ isActive }) =>
              isActive ? "navbar-link link-active" : "navbar-link"
            }
            to={auth ? "/profile" : "/sign-in"}
          >
            <svg viewBox="0 0 22 22" className="icon-profile">
              <title>icon profile</title>
              <path d="M11 11C11.9518 11 12.8823 10.7178 13.6737 10.1889C14.4651 9.66015 15.0819 8.90854 15.4462 8.02917C15.8104 7.1498 15.9057 6.18216 15.72 5.24863C15.5343 4.3151 15.076 3.45759 14.403 2.78455C13.7299 2.11151 12.8724 1.65316 11.9389 1.46747C11.0053 1.28178 10.0377 1.37709 9.15834 1.74133C8.27897 2.10558 7.52736 2.72241 6.99855 3.51382C6.46975 4.30523 6.1875 5.23568 6.1875 6.1875C6.1875 7.46386 6.69453 8.68793 7.59705 9.59045C8.49957 10.493 9.72365 11 11 11ZM11 2.75C11.6799 2.75 12.3445 2.95161 12.9098 3.32933C13.4751 3.70704 13.9157 4.24391 14.1758 4.87203C14.436 5.50015 14.5041 6.19132 14.3714 6.85812C14.2388 7.52493 13.9114 8.13744 13.4307 8.61818C12.9499 9.09892 12.3374 9.42632 11.6706 9.55895C11.0038 9.69159 10.3126 9.62351 9.68453 9.36334C9.0564 9.10316 8.51954 8.66257 8.14182 8.09727C7.76411 7.53198 7.5625 6.86738 7.5625 6.1875C7.5625 5.27582 7.92466 4.40148 8.56932 3.75682C9.21398 3.11217 10.0883 2.75 11 2.75Z" />
              <path d="M11.6875 12.375H10.3125C8.3068 12.375 6.38325 13.1718 4.96501 14.59C3.54676 16.0082 2.75 17.9318 2.75 19.9375C2.75 20.1198 2.82243 20.2947 2.95136 20.4236C3.0803 20.5526 3.25516 20.625 3.4375 20.625H18.5625C18.7448 20.625 18.9197 20.5526 19.0486 20.4236C19.1776 20.2947 19.25 20.1198 19.25 19.9375C19.25 17.9318 18.4532 16.0082 17.035 14.59C15.6168 13.1718 13.6932 12.375 11.6875 12.375ZM4.16625 19.25C4.3353 17.7379 5.05554 16.3412 6.18934 15.3266C7.32315 14.312 8.79102 13.7507 10.3125 13.75H11.6875C13.209 13.7507 14.6769 14.312 15.8107 15.3266C16.9445 16.3412 17.6647 17.7379 17.8338 19.25H4.16625Z" />
            </svg>
            {auth ? "Profile" : "Connexion"}
          </NavLink>
        </div>
      </nav>
    </>
  );
}

export default NavBar;
