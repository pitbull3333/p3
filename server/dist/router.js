"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = __importDefault(require("express"));
const activityActions_1 = __importDefault(require("./modules/activity/activityActions"));
const sportActions_1 = __importDefault(require("./modules/sport/sportActions"));
const userActions_1 = __importDefault(require("./modules/user/userActions"));
const participationActions_1 = __importDefault(require("./modules/participation/participationActions"));
const messageActions_1 = __importDefault(require("./modules/Message/messageActions"));
const authActions_1 = __importDefault(require("./modules/auth/authActions"));
const router = express_1.default.Router();
router.get("/api/sports", sportActions_1.default.browse);
router.get("/api/users", userActions_1.default.readByEmail);
router.post("/api/users", userActions_1.default.validate, userActions_1.default.add);
router.get("/api/activities", authActions_1.default.verifyToken, activityActions_1.default.browse);
router.get("/api/activities/:id", activityActions_1.default.read);
router.post("/api/login", authActions_1.default.logIn);
router.get("/api/participants", participationActions_1.default.browseByActivity);
router.use(authActions_1.default.verifyToken);
router.get("/api/profile", userActions_1.default.read);
router.post("/api/activities", activityActions_1.default.add);
router.get("/api/me/activities", activityActions_1.default.browseMine);
router.get("/api/participations", participationActions_1.default.browseUserActivity);
router.post("/api/participations", activityActions_1.default.verifyNbAvaiableSpots, participationActions_1.default.add);
router.put("/api/participations", activityActions_1.default.verifyNbAvaiableSpots, participationActions_1.default.editStatus);
router.post("/api/message", messageActions_1.default.add);
router.post("/api/message/likes", messageActions_1.default.addLike);
router.get("/api/message", messageActions_1.default.browse);
router.get("/api/message/poll", messageActions_1.default.poll);
router.put("/api/message/delete", messageActions_1.default.deleteMessage);
exports.default = router;
